{% extends "common/__basewrap.html" %}
{% load mytags %}

{% block body_block %}
{% endblock %}

{% block base_header %}
  <div class="container">
    <div class="row">
      <div class="area-top clearfix">
        <div class="pull-left header">
          <h3 class="title">
            <i class="icon-group"></i>
            Client Estimate Index
          </h3>
          <h5>
            <span>
              Client Estimate Landing Page
            </span>
          </h5>
        </div>
        <ul class="list-inline pull-right sparkline-box">
          <li class="sparkline-row">
            <h4 class="blue"><span>Total Estimates</span> {{ estimate|length }} </h4>
          </li>
          <li class="sparkline-row">
            <h4 class="blue"><span>New Clients</span> {{ estimate|length }} </h4>
          </li>
          <li class="sparkline-row">
            <h4 class="green"><span>Clients with Follow Ups</span> {{ estimate|length }} </h4>
          </li>
        </ul>
      </div>
    </div>
  </div>
{% endblock %}

{% block base_content %}
  {% block form_breadcrumb %}
    <!-- Breadcrumb line -->
  <div class="container padded">
    <div class="row">
      <div id="breadcrumbs">
        <div class="breadcrumb-button blue">
          <span class="breadcrumb-label"><i class="icon-home"></i> Home</span>
          <span class="breadcrumb-arrow"><span></span></span>
        </div>
            <div class="breadcrumb-button">
              <span class="breadcrumb-label">
                <i class="fa fa-group"></i> Client Home
              </span>
              <span class="breadcrumb-arrow"><span></span></span>
            </div>
      </div>
    </div>
  </div> <!-- container padded -->
 {% endblock form_breadcrumb %}
 <div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="box">
                <div class="box-header">
                    <span class="title">
                        Client Estimates
                    </span>
                </div>
                <div class="box-content">
                    <div id="dataTables">
                        <table cellpadding="0" cellspacing="0" border="0" class="dataTable responsive">
                            <thead>
                                <tr>
                                    <td><div>Client Name</div></td>
                                    <td><div>Estimate Name</div></td>
                                    <td><div>Date</div></td>
                                </tr>
                            </thead>
                            <tbody role="alert" aria-live="polite" aria-relavent="all">
                                {% if estimate %}
                                    {% for e in estimate %}
                                    <tr>
                                        <td class="sorting_1">{{ e.estimate_client }}</td>
                                        <td>
                                            <a href="{{ e.get_absolute_url }}">{{ e.job_name }}</a>
                                        </td>
                                        <td>{{ e.date }}</td>
                                    </tr>
                                    {% endfor %}
                                {% else %}
                                <tr>
                                    <td>
                                        There are no Estimates available.
                                    </td>
                                </tr>
                                {% endif %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
 </div>
{% endblock base_content %}


{%comment%}

        <script>
    function my_js_callback(data){

        alert(data.message);
    }

    function estimate(pk){
        alert(data.message);

    }

    function alerter(){
        Dajaxice.Work.sayhello(Dajax.process);
    }

    function calculate(){
    Dajaxice.Work.multiply(Dajax.process,{'a':$('#a').val(),'b':$('#b').val()})
    }
</script>

    get_estimate
    <p>Client-Estimate</p>
    {% for i in estimate %}
    <li>
        <a href="{{ i.get_absolute_url }}">{{ i }}</a>
         Testing:
        {{ i.id }}
        <button title="{{ i }}" name="{{ i }}"
                onclick="Dajaxice.Work.get_estimate(Dajax.process, {pk: '{{ i.id }}'});">BTN</button>
    </li>
    {% endfor %}
    <li>
        <input type="button" value="Say Hello Input"
                onclick="Dajaxice.Work.sayhello(my_js_callback);"></input>
                <!--
                onclick="Dajaxice.Work.sayhello(Dajax.process)";
                -->

    </li>
    <input type="text" value="" id="result">
    <input type="button" onclick="Dajaxice.Work.randomize(Dajax.process)" value="Random!">
    <button onclick="alerter()">alerter()</button>
    <button onclick="Dajaxice.LibertyNET.Work.sayhello(my_js_callback);">Say Hello!</button>

    <div onclick="Dajaxice.Work.assign_test(Dajax.process);">Click Here!</div>
    <div onclick="Dajaxice.Work.assign_test(Dajax.process);">Click Here!</div>

    <input type="text" value="5" id="a"> x
    <input type="text" value="6" id="b"> =
    <input type="text" value="" id="result">
    <input type="button" value="Multiply!" onclick="calculate();">
{% endcomment %}
